# Configuration {#sec-config}

Prior to each deployment of the Mini Buoy, the data logger will need to be fully charged, have a full memory, and be correctly configured according to the user's requirements. The following section describes how to configure the MSR145W B4 (used in both the B4 and B4+ Mini Buoy designs) and HOBO Pendant G acceleration data loggers. Select the correct tab according to the logger's software:

::: panel-tabset
## MSR145

The free 'MSR' software to configure the MSR145W B4 logger can be downloaded [here](https://www.msr.ch/en/support/msr-pc-software-standard/){target='_blank'}. The software is only compatible with a Windows PC. The cable, provided with the logger, is used to both configure and charge the logger. 

To configure the MSR145W B4:

1. Download and install the MSR software onto a Windows PC
2. Connect a logger via the cable provided. A yellow LED will light up on the logger, indicating the internal battery is being charged. The light will extinguish once the battery is fully charged
3. Open the MSR software

::: {.callout-note}
The MSR software appearance differs depending on which model of MSR145W B4 was purchased. Whilst using different models does not affect the performance of a Mini Buoy, the setup procedure differs.
:::

To confirm the model of the logger:

1. Double-click `Setup`

![](figs/MSRStep1.png){fig-align='center' width=70%}
 
2. Under `General`, confirm whether `MSR type` is `MSR145C` or `MSR145B`

![](figs/ModelID.png){fig-align='center' width=70%}

Select the correct tab to continue with the setup: 

::: panel-tabset
### MSR145C

1. Select the `Format memory` tab
2. Click `Format` > `Yes`. This will delete any data stored on the logger

![](figs/MSRcFormat.png){fig-align='center' width=70%}

3. Once formatting is complete, click `OK`
4. Select the `Limit` tab
5. Click `Read`
6. Select `Channel 1 | Ax` and click `Change`
7. Under the `Record condition` drop-down menu, select `never`
8. Click `OK`
9. Select `Channel 3 | Az` and click `Change`
10. Under the `Record condition` drop-down menu, select `never`
11. Click `OK`
12. Click `Write`

::: {.callout-important}
Only `Channel 2 | Ay` should now display `always`. This means only acceleration data along the y-axis will be gathered. y-axis acceleration data is used to measure hydrodynamics.
:::

![](figs/MSRcLimit.png){fig-align='center' width=70%}

13. Select the `User settings` tab
14. Under `Name of logger`, enter a suitable ID for the logger
15. Click `Write`

::: {.callout-tip}
It is good practice to keep a record of the logger name and serial number for data analysis. 
:::

![](figs/MSRcUserSettings.png){fig-align='center' width=70%}

16. Select the `Basic settings` tab
17. Under `Sensors`, use the drop-down menu to select a sampling rate between `1s` and `10s`

::: {.callout-note}
Sampling rate determines the precision of the data and the duration of a survey. A higher sampling rate improves precision but lowers survey duration. Use the table below to select an optimum balance between sampling rate and survey duration.

| Sampling rate | Survey duration |
|:--------------|:---------------:|
| 1s            | 24 days         |
| 2s            | 48 days         |
| 5s            | 120 days        |
| 10s           | 240 days        | 
:::

18. Under `Record control`, set the logger to `Start at` a specific date and time
19. Check `Consider limit`
20. Uncheck all options under `Options during record`
21. Click `Write basic settings`
22. Click `Start`
23. Under `Info and measurement parameters`, confirm that `State` reads `Record starts on yyyy-mm-dd hh:mm`

![](figs/MSRcBasicSettings.png){fig-align='center' width=70%}

The logger is now primed for data collection.

### MSR145B

1. Select the `Format memory` tab
2. Click `Format`. This will delete any data stored on the logger

![](figs/MSRStep2.png){fig-align='center' width=70%}

3. Once formatting is complete, select the `User settings` tab
4. Set the acceleration sensor measure range to `2G`
5. You can define a name for the logger under `Name of logger`
6. Click `Write user settings`

![](figs/MSRStep3.png){fig-align='center' width=70%}

7. Under `Record control`, check the `Limits active` box
8. Select the `Limits` tab. We can use limits to effectively disable the X and Y sensors by setting unrealistically high acceleration limits. This will allow your logger to store more Y acceleration data.
9. For the **ACC x** channel, select `<L1 or >L2, (Shock)` from the record limit drop-down menu (click on the cell to make the drop-down menu visible)
10. For the **ACC z** channel, select `<L1 or >L2, (Shock)` from the record limit drop-down menu (click on the cell to make the drop-down menu visible) 
11. Set the corresponding `Limit L1` to -999 and `Limit L2` to +999. The MSR software will default to the maximum possible range
12. Make sure there are no limits set on the ACC y channel by selecting `inactive` from the record limit drop-down menu
13. Click the `<` button in the bottom-left of the window

![](figs/MSRStep4.png){fig-align='center' width=70%}

14. Select the `Basic settings` tab
15. Under `Sensors`, select `t1` from the `ACC x, y, z` drop-down menu
16. Under `Main storage rate`, set `t1=` to the desired sampling rate in seconds
    * The Mini Buoy has been calibrated to accept sampling rates between 1 and 10 seconds. Refer to the table in @sec-intro for sampling duration (this is more accurate than the `Prediction` tool that underestimates memory capacity as it does not take into account the limit settings).
17. Check the `Start at` box, and set the date and time shortly after your planned deployment
18. Under `Options during record`, uncheck all options. This will extend the battery life of the logger
19. Click `Write basic settings` to upload your settings to the logger
20. Click `Exit` and disconnect the MSR145W B4 logger from the computer
21. A blue light will begin to flash, confirming the logger is primed and ready to begin logging when the start date and time is reached

![](figs/MSRStep5.png){fig-align='center' width=70%}

:::
## HOBOware

The Pendant G Data Logger comes with the free [HOBOware](https://www.onsetcomp.com/hoboware-free-download/){target='_blank'} software to configure the logger. HOBOware is compatible with Windows and macOS operating systems. To configure the HOBO Pendant:

1. Download and install the free [HOBOware](https://www.onsetcomp.com/hoboware-free-download/){target='_blank'} software
2. Connect a logger to a computer via the HOBO Optic USB Base Station
3. Open the HOBOware software
4. Click the `Select Device` drop-down menu ![](figs/SelectDeviceButton.png){width=5%} , and tick the USB or serial port tabs in congruence with how you connected the data logger to the computer
5. Select the `Launch` icon ![](figs/LaunchDeviceBUtton.png){width=4%} , a window will pop open where you can set a name for the logger under the `Name` field.
5. In the `Sensors` tab and in the `Configure Sensors to Log` section, check the `X-Axis Acceleration (+/- 3g)` box
6. From the `Deployments` tab, set the `Logging Interval` to the desired sampling rate using the drop-down menu. Increasing the sampling rate will increase the logging duration (calculated based on the logging rate and battery status of the device).
    * The Mini Buoy has been calibrated to sampling rates of 1 minute, thus, this is the recommended sampling rate setting, rendering 45 logging days at full battery (refer to the table in @sec-intro for other sampling rates that can be used with Hobo pendant G loggers).
7. In the `Deployments` tab, set the `Start Logging` date and time for shortly after your planned deployment  
8. Click `Delayed Start` and disconnect the Pendant logger from the computer.

![](figs/HOBOStep1.png){fig-align='center' width=70%}

:::
